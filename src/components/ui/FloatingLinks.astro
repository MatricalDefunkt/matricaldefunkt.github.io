---
interface Props {
  mobile?: boolean;
}
const { mobile = false } = Astro.props;
---

<div
  class:list={["floating-links", { "floating-links--mobile": mobile }]}
  id={mobile ? "hero-social-links-mobile" : "hero-social-links"}
>
  <a
    href="https://github.com/MatricalDefunkt"
    target="_blank"
    rel="noopener noreferrer"
    class="float-link"
    aria-label="GitHub"
    title="GitHub"
  >
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="24"
      height="24"
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      stroke-width="2"
      stroke-linecap="round"
      stroke-linejoin="round"
      ><path
        d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"
      ></path></svg
    >
  </a>
  <a
    href="https://linkedin.com/in/pramit-sharma"
    target="_blank"
    rel="noopener noreferrer"
    class="float-link"
    aria-label="LinkedIn"
    title="LinkedIn"
  >
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="24"
      height="24"
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      stroke-width="2"
      stroke-linecap="round"
      stroke-linejoin="round"
      ><path
        d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"
      ></path><rect x="2" y="9" width="4" height="12"></rect><circle
        cx="4"
        cy="4"
        r="2"></circle></svg
    >
  </a>
  <a
    href="mailto:dev@matricaldefunkt.me"
    class="float-link"
    aria-label="Email"
    title="Email"
  >
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="24"
      height="24"
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      stroke-width="2"
      stroke-linecap="round"
      stroke-linejoin="round"
      ><path
        d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"
      ></path><polyline points="22,6 12,13 2,6"></polyline></svg
    >
  </a>
</div>

<style>
  /* Desktop sidebar */
  .floating-links {
    position: fixed;
    left: 2rem;
    top: 50%;
    transform: translateY(-50%);
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
    z-index: 50;
    transition:
      transform 0.4s cubic-bezier(0.4, 0, 0.2, 1),
      opacity 0.4s ease;
  }

  .floating-links.hidden {
    transform: translate(-150%, -50%);
    opacity: 0;
    pointer-events: none;
  }

  /* Mobile inline row */
  .floating-links--mobile {
    display: none;
    position: relative;
    top: auto;
    left: auto;
    transform: translateX(0);
    flex-direction: row;
    justify-content: center;
    margin-top: 1.5rem;
    z-index: auto;
  }

  .floating-links--mobile.hidden {
    transform: translateX(-100vw);
    opacity: 0;
    pointer-events: none;
  }

  .floating-links--mobile .float-link::after {
    display: none;
  }

  .float-link {
    color: var(--secondary-text);
    transition:
      color 0.2s ease,
      transform 0.2s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    outline: none;
  }

  .float-link:focus-visible > svg {
    outline: 2px solid var(--accent-color);
    outline-offset: 4px;
    border-radius: 4px;
  }

  .float-link::after {
    content: attr(title);
    position: absolute;
    left: calc(100% + 10px);
    background: #3a3935;
    color: var(--text-color);
    font-size: 0.75rem;
    font-weight: 500;
    white-space: nowrap;
    padding: 0.3rem 0.6rem;
    border-radius: 4px;
    border: 1px solid #52504b;
    pointer-events: none;
    opacity: 0;
    transform: translateX(-10px);
    transition:
      opacity 0.2s ease,
      transform 0.2s ease;
    z-index: 100;
  }

  .float-link:hover::after,
  .float-link:focus-visible::after {
    opacity: 1;
    transform: translateX(0);
  }

  .float-link:hover,
  .float-link:focus-visible {
    color: var(--accent-color);
    transform: translateY(-2px);
  }

  @media (max-width: 900px) {
    /* Hide desktop sidebar on mobile */
    .floating-links:not(.floating-links--mobile) {
      display: none;
    }

    /* Show mobile row on mobile */
    .floating-links--mobile {
      display: flex;
    }
  }
</style>
